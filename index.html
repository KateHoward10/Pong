<!DOCTYPE html>
<html>
	<head>
		<title>Pong!</title>
	</head>
	<body>
		<svg id="game" width="800" height="600">
			<rect id="player1" width="10" height="50" x="20" y="275" />
			<rect id="ball" width="10" height="10" x="395" y="295" />
			<rect id="player2" width="10" height="50" x="770" y="275" />
		</svg>
		<script type="text/javascript">
			const game = document.getElementById('game');
			const player1 = document.getElementById('player1');
			const ball = document.getElementById('ball');
			const player2 = document.getElementById('player2');

			function movePlayer2(event) {
				if (event.keyCode === 38) {
					player2.setAttribute('y', +player2.getAttribute('y') - 5);
				} else if (event.keyCode === 40) {
					player2.setAttribute('y', +player2.getAttribute('y') + 5);
				}
			}

			let direction = 'right';

			function ballMove() {
				if (+ball.getAttribute('x') + +ball.getAttribute('width') >= +player2.getAttribute('x')) {
					direction = 'left';
				}
				if (+ball.getAttribute('x') <= +player1.getAttribute('x') + +player1.getAttribute('width')) {
					direction = 'right';
				}
				if (direction === 'left') {
					ball.setAttribute('x', +ball.getAttribute('x') - 10);
				} else {
					ball.setAttribute('x', +ball.getAttribute('x') + 10);
				}
			}

			setInterval(ballMove, 100);

			document.addEventListener('keydown', movePlayer2);
		</script>
	</body>
</html>
